<html>
    <head>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Bruno+Ace+SC&display=swap" rel="stylesheet">
        <script src="p5.js"></script>
        <script defer src="https://unpkg.com/p5.collide2d"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.js" integrity="sha512-TU9AWtV5uUZPX8dbBAH8NQF1tSdigPRRT82vllAQ1Ke28puiqLA6ZVKxtUGlgrH6yWFnkKy+sE6luNEGH9ar0A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>    
        <style>
            /*styling background*/
            body {
                margin: 0;
                padding: 0;
                border: 0;
                background-image: url('https://cdnb.artstation.com/p/assets/images/images/031/613/961/large/tiago-cerca-castelo.jpg?1604107922');
                background-repeat: no-repeat;
                background-size: cover;
            }

            /*styling the life sentence*/
            #life {
                width: 100px;
                height: 20px;
                background-color: white;
                color: black;
                font-family: 'Bruno Ace SC', cursive;
                position: absolute;
                left: 90%;
                top: 3%;
            }
        </style>
    </head>
    <body>
        <div id="life">Life: 1</div>
        <script>
            var h = window.innerHeight;
            var w = window.innerWidth; 
            let girl
            let hit = false
            let eW = w/2
            let eH = h/2
            let enWidth = 100
            let enHeight = 100

            /*setup the web page*/
            function setup() {
                createCanvas(w,h);
                noStroke()
                man = loadImage('solder.jpg')
                magic = loadImage('magic.jpg')
                witch = loadImage('witch.png')
            }

            /*created the game process*/
            function draw() {
                
                clear()

                if (eW <=1){
                    eW = 1
                }
                if (eH <=1){
                    eH = 1
                }
                if (eW>=w-105){
                    eW= w-105
                }
                if (eH >= h-105){
                    eH= h-105
                }
                if (keyIsDown(LEFT_ARROW)) {
                    eW -= 5;
                }
                if (keyIsDown(RIGHT_ARROW)) {
                    eW += 5;
                }
                if (keyIsDown(UP_ARROW)) {
                    eH -= 5;
                }
                if (keyIsDown(DOWN_ARROW)) {
                    eH += 5;
                }

                rectMode(CENTER)
                frameRate(150)
                image(magic,frameCount, h/1, 50, 40)
                image(magic,frameCount, h/1.5, 50, 40)
                image(magic,frameCount, h/2, 50, 40)
                image(magic,frameCount, h/3, 50, 40)
                image(magic,frameCount,h/4,50,40)

                image(magic,w/1.5,frameCount,50,40)
                image(magic,w/2,frameCount,50,40)
                image(magic,w/3,frameCount,50,40)

                image(witch,0,0,100,100)
                image(man, eW, eH, enWidth, enHeight)

                hit1 = collideRectRect(eW,eH,enWidth,enHeight,frameCount,h/1,50,40)
                hit3 = collideRectRect(eW,eH,enWidth,enHeight,frameCount,h/1.5,50,40)
                hit5 = collideRectRect(eW,eH,enWidth,enHeight,frameCount,h/2,50,40)
                hit7 = collideRectRect(eW,eH,enWidth,enHeight,frameCount,h/3,50,40)
                hit9 = collideRectRect(eW,eH,enWidth,enHeight,h/4,frameCount,50,40)
                hit2 = collideRectRect(eW,eH,enWidth,enHeight,w/1.5,frameCount,50,40)
                hit4 = collideRectRect(eW,eH,enWidth,enHeight,w/2,frameCount,50,40)
                hit6 = collideRectRect(eW,eH,enWidth,enHeight,w/3,frameCount,50,40)
                hit = collideRectRect(eW,eH,enWidth,enHeight,0,0,100,100)


                if (hit===true) {
                    location.href ="storyline7.html";
                }
                if (hit1===true) {
                    window.alert("OH NO! YOU BUMP INTO THE BLACK MAGIC, CLICK TO TRY AGAIN")
                    eW = random(0,w -50)
                    eH = random(0,h -50)
                }
                if (hit2===true) {
                    window.alert("OH NO! YOU BUMP INTO THE BLACK MAGIC, CLICK TO TRY AGAIN")
                    eW = random(0,w -50)
                    eH = random(0,h -50)
                }
                if (hit3===true) {
                    window.alert("OH NO! YOU BUMP INTO THE BLACK MAGIC, CLICK TO TRY AGAIN")
                    eW = random(0,w -50)
                    eH = random(0,h -50)
                }
                if (hit4===true) {
                    window.alert("OH NO! YOU BUMP INTO THE BLACK MAGIC, CLICK TO TRY AGAIN")
                    eW = random(0,w -50)
                    eH = random(0,h -50)
                }
                if (hit5===true) {
                    window.alert("OH NO! YOU BUMP INTO THE BLACK MAGIC, CLICK TO TRY AGAIN")
                    eW = random(0,w -50)
                    eH = random(0,h -50)
                }
                if (hit6===true) {
                    window.alert("OH NO! YOU BUMP INTO THE BLACK MAGIC, CLICK TO TRY AGAIN")
                    eW = random(0,w -50)
                    eH = random(0,h -50)
                }
                if (hit7===true) {
                    window.alert("OH NO! YOU BUMP INTO THE BLACK MAGIC, CLICK TO TRY AGAIN")
                    eW = random(0,w -50)
                    eH = random(0,h -50)
                }
                if (hit9===true) {
                    window.alert("OH NO! YOU BUMP INTO THE BLACK MAGIC, CLICK TO TRY AGAIN")
                    eW = random(0,w -50)
                    eH = random(0,h -50)
                }
            }

        </script>
    </body>
</html>